![foodgram-project_workflow](https://github.com/girik108/foodgram-project/actions/workflows/foodgram.yml/badge.svg)


# Сайт «Продуктовый помощник».
Это онлайн-сервис, где пользователи смогут публиковать рецепты, подписываться на публикации других пользователей, добавлять понравившиеся рецепты в список «Избранное», а перед походом в магазин скачивать сводный список продуктов, необходимых для приготовления одного или нескольких выбранных блюд.

Cоздан в рамках дипломного проэкта учебного курса Яндекс.Практикум.

## Стек технологий
- проект написан на Python с использованием Django и Django REST Framework
- библиотека sorl-thumbnail - работа с картинками
- библиотека django-filter - фильтрация запросов
- база данных PostgreSQL
- автоматическое развертывание проекта - Docker, docker-compose
- система управления версиями - git

## Как запустить проект, используя Docker (база данных PostgreSQL):
1) Клонируйте репозитроий с проектом:
```
git clone https://github.com/girik108/foodgram-project.git

```
2) В директории проекта создайте файл .db.env, в котором пропишите следующие переменные окружения :
 - POSTGRES_PASSWORD=DBpassword
 - SQL_ENGINE=django.db.backends.postgresql
 - SQL_DATABASE=yamdb
 - SQL_USER=yamdb_user
 - SQL_PASSWORD=YAMDBpassword
 - SQL_HOST=db
 - SQL_PORT=5432
 Также создайте файл .web.env, в котором пропишите следующие переменные окружения :
 - SECRET_KEY=1q2w3e4r5t6y7u8i9o0p
 - EMAIL_HOST = mail.example.com
 - EMAIL_PORT = 25
 - EMAIL_HOST_USER = foodgram@example.com
 - EMAIL_HOST_PASSWORD = EmailStrongPass123=)

 Чтобы очистить БД перед запуском создайте переменную 
 - DJANGO_FLUSH_DB=True
 Чтобы создать администратора добавьте следующие переменые окружения
 - DJANGO_SUPERUSER_USERNAME= superadmin
 - DJANGO_SUPERUSER_EMAIL=admin@example.com
 - DJANGO_SUPERUSER_PASSWORD=SUPERpass
 Если иммется дамп БД. То переименуйте его в fixtures.json и положите в папку с docker-compose.yaml
 При старте контейнера приложения YaMDB дамп загрузится автоматически.
 
3) С помощью Dockerfile и docker-compose.yaml разверните проект:
```
docker-compose up --build
```

Для инициализации приложения вручную необходимо сделать следующее:
1)  В новом окне терминала узнайте id контейнера yamdb_web и войдите в контейнер:
```
docker container ls
```
```
docker exec -it <CONTAINER_ID> bash
```
2) В контейнере выполните миграции, создайте суперпользователя и заполните базу начальными данными:
```
python manage.py migrate

python manage.py createsuperuser

python manage.py loaddata fixtures.json
```
_________________________________
Ваш проект запустился на http://0.0.0.0:80/


## Сервисы и страницы проекта

## Главная страница
Содержимое главной страницы — список рецептов, отсортированных по дате публикации (от новых к старым).
## Страница рецепта
На странице — полное описание рецепта, возможность добавить рецепт в избранное и в список покупок, возможность подписаться на автора рецепта.
## Страница пользователя
На странице — имя пользователя, все рецепты, опубликованные пользователем и возможность подписаться на пользователя.
## Подписка на авторов
Подписка на публикации доступна только авторизованному пользователю. Страница подписок доступна только владельцу.
## Список избранного
Работа со списком избранного доступна только авторизованному пользователю. Список избранного может просматривать только его владелец.
## Список покупок
Работа со списком покупок доступна авторизованным пользователям. Список покупок может просматривать только его владелец.


## Автор

**Гиматов Ирек**

* [github.com/girik108](https://github.com/girik108)
* [email](mailto:gimatovig@yandex.ru)

Проект запущен по адресу http://foodgram.gimatov.gq/

